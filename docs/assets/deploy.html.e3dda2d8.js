import{_ as o,r as i,o as l,c as r,a as n,b as s,d as e,e as t}from"./app.956f3667.js";const c={},p=t(`<h1 id="_6-项目部署" tabindex="-1"><a class="header-anchor" href="#_6-项目部署" aria-hidden="true">#</a> 6. 项目部署</h1><h3 id="_6-1-集成部署" tabindex="-1"><a class="header-anchor" href="#_6-1-集成部署" aria-hidden="true">#</a> 6.1 集成部署</h3><ul><li>分别在\\source\\vue\\xzs-student目录和source\\vue\\xzs-admin目录，执行前端打包命令</li></ul><div class="language-npm line-numbers-mode" data-ext="npm"><pre class="language-npm"><code>npm config set sass_binary_site https://npm.taobao.org/mirrors/node-sass/
npm install --registry https://registry.npm.taobao.org  
npm run build
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4),d=n("li",null,"打包后的目录为student和admin",-1),u=n("li",null,"将文件放到\\source\\xzs\\src\\main\\resources\\static下，然后将java程序打包成jar包",-1),h=n("li",null,"修改application-prod.yml中的datasource地址",-1),k={href:"http://ip:8000/student",target:"_blank",rel:"noopener noreferrer"},m={href:"http://ip:8000/admin",target:"_blank",rel:"noopener noreferrer"},v=n("li",null,"执行下列命令，运行程序",-1),_=t(`<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>nohup java <span class="token operator">-</span><span class="token class-name">Duser</span><span class="token punctuation">.</span>timezone<span class="token operator">=</span><span class="token class-name">Asia</span><span class="token operator">/</span><span class="token class-name">Shanghai</span> <span class="token operator">-</span>jar <span class="token operator">-</span><span class="token class-name">Dspring</span><span class="token punctuation">.</span>profiles<span class="token punctuation">.</span>active<span class="token operator">=</span>prod  xzs<span class="token operator">-</span><span class="token number">3.9</span><span class="token number">.0</span><span class="token punctuation">.</span>jar  <span class="token operator">&gt;</span> start1<span class="token punctuation">.</span>log  <span class="token number">2</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span><span class="token number">1</span> <span class="token operator">&amp;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_6-2-前后端分离部署" tabindex="-1"><a class="header-anchor" href="#_6-2-前后端分离部署" aria-hidden="true">#</a> 6.2 前后端分离部署</h3>`,2),b=n("li",null,"采用前后端分离方式部署，后端启动和部署方式1一样",-1),g=n("li",null,"前端采用nginx来装载静态页面,先创建/usr/local/xzs/web/目录，然后将打包后的student、admin放到此目录下",-1),x=n("li",null,"页面访问端口为8001，注意检查防火墙端口是否打开",-1),f={href:"http://ip:8001/student",target:"_blank",rel:"noopener noreferrer"},y={href:"http://ip:8001/admin",target:"_blank",rel:"noopener noreferrer"},z=n("li",null,"nginx配置如下：",-1),w=t(`<div class="language-nginx line-numbers-mode" data-ext="nginx"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span>
    <span class="token directive"><span class="token keyword">listen</span>      <span class="token number">8001</span></span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">server_name</span> xzs</span><span class="token punctuation">;</span>
    <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span>
        <span class="token directive"><span class="token keyword">root</span> /usr/local/xzs/web/</span><span class="token punctuation">;</span>
        <span class="token directive"><span class="token keyword">index</span> index.html</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token directive"><span class="token keyword">location</span> /api/</span> <span class="token punctuation">{</span>
       <span class="token directive"><span class="token keyword">proxy_pass</span>  http://localhost:8000</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-3-docker部署" tabindex="-1"><a class="header-anchor" href="#_6-3-docker部署" aria-hidden="true">#</a> 6.3 docker部署</h3>`,2),j=n("li",null,"准备好centos服务器",-1),N=n("li",null,"先检查服务器端口、ip转发的是否配置正确，否则无法访问到docker内部",-1),V=n("li",null,"docker内部镜像已经安装了java、mysql,均已配置好，无需其他操作",-1),B=n("li",null,"执行下列docker命令，拉取镜像，启动容器",-1),E={href:"http://ip:8000/student",target:"_blank",rel:"noopener noreferrer"},D={href:"http://ip:8000/admin",target:"_blank",rel:"noopener noreferrer"},I=t(`<div class="language-docker line-numbers-mode" data-ext="docker"><pre class="language-docker"><code>docker pull  registry.cn-hangzhou.aliyuncs.com/mindskip/xzs:v3.9.0
docker run -d --name xzs --privileged -it  -d -p 8000:8000 -v /etc/localtime:/etc/localtime:ro  registry.cn-hangzhou.aliyuncs.com/mindskip/xzs:v3.9.0 /usr/sbin/init
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,1);function L(S,q){const a=i("ExternalLinkIcon");return l(),r("div",null,[p,n("ul",null,[d,u,h,n("li",null,[s("学生端访问地址为："),n("a",k,[s("http://ip:8000/student"),e(a)])]),n("li",null,[s("管理员端访问地址为："),n("a",m,[s("http://ip:8000/admin"),e(a)])]),v]),_,n("ul",null,[b,g,x,n("li",null,[s("学生端访问地址为："),n("a",f,[s("http://ip:8001/student"),e(a)])]),n("li",null,[s("管理员端访问地址为："),n("a",y,[s("http://ip:8001/admin"),e(a)])]),z]),w,n("ul",null,[j,N,V,B,n("li",null,[s("学生端访问地址为："),n("a",E,[s("http://ip:8000/student"),e(a)])]),n("li",null,[s("管理员端访问地址为："),n("a",D,[s("http://ip:8000/admin"),e(a)])])]),I])}const C=o(c,[["render",L],["__file","deploy.html.vue"]]);export{C as default};
